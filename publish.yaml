Type: Component
Name: fc-deploy
Provider:
  - Alibaba
Version: 0.0.7
Description:
  zh: 阿里云函数计算组件，可以快速部署阿里云FC
  en: Alibaba Cloud function computing component, it can quickly deploy Alibaba Cloud FC
HomePage: https://www.aliyun.com/
Tags:
  - zh: 函数计算
    en: Function Calculation
Category: BaaS
Commands:
  deploy:
    zh: 部署函数
    en: Deploy function
  remove:
    zh: 移除函数
    en: Remove function
Service:
  函数计算:
    Authorities:
      - zh: 函数计算全部权限
        en: FC all permissions
Properties:
  region:
    Description:
      zh: 地域
      en: Region
    Required: true
    Type:
      - Enum:
          - cn-beijing
          - cn-hangzhou
          - cn-shanghai
          - cn-qingdao
          - cn-zhangjiakou
          - cn-huhehaote
          - cn-shenzhen
          - cn-chengdu
          - cn-hongkong
          - ap-southeast-1
          - ap-southeast-2
          - ap-southeast-3
          - ap-southeast-5
          - ap-northeast-1
          - eu-central-1
          - eu-west-1
          - us-west-1
          - us-east-1
          - ap-south-1
  service:
    Description:
      zh: 服务
      en: Service Object
    Required: true
    Type:
      - Struct:
          name:
            Required: true
            Description:
              zh: service名称
              en: Service Name
            Type:
              - String
          description:
            Required: true
            Description:
              zh: Service的简短描述
              en: Short description of service
            Type:
              - String
          internetAccess:
            Required: false
            Description:
              zh: 设为true让function可以访问公网
              en: Set to true to enable function to access the public network
            Type:
              - Boolean
          logConfig:
            Required: false
            Description:
              zh: log配置，function产生的log会写入这里配置的logstore
              en: Log configuration. The log generated by function will be written to the logstore configured here
            Type:
              - Enum[简单配置/Simple configuration]:
                  - Auto
                  - auto
              - Struct[详细配置/Detailed configuration]:
                  logStore:
                    Required: false
                    Description:
                      zh: loghub中的logstore名称
                      en: Logstore name in loghub
                    Type:
                      - String
                  project:
                    Required: false
                    Description:
                      zh: loghub中的project名称
                      en: Project name in loghub
                    Type:
                      - String
          role:
            Required: false
            Description:
              zh: 授予函数计算所需权限的RAM role, 使用场景包含 1. 把 function产生的 log 发送到用户的 logstore 中 2. 为function 在执行中访问其它云资源生成 token
              en: The ram role is used to grant the function calculation permission. The usage scenarios include： 1. Send the log generated by function to the user's logstore; 2. Generate token for function to access other cloud resources during execution
            Type:
              - String[简单配置/Simple configuration]
              - Struct[详细配置/Detailed configuration]:
                  name:
                    Required: true
                    Description:
                      zh: 角色名
                      en: Role name
                    Type:
                      - String
                  policies:
                    Required: true
                    Description:
                      zh: 策略列表
                      en: Policy list
                    Type:
                      - List<Any>
          vpc:
            Required: false
            Description:
              zh: VPC配置, 配置后function可以访问指定VPC
              en: VPC configuration. After configuration, function can access the specified VPC
            Type:
              - Enum[简单配置/Simple configuration]:
                  - Auto
                  - auto
              - Struct[详细配置/Detailed configuration]:
                  securityGroupId:
                    Required: false
                    Description:
                      zh: 安全组ID
                      en: Security group ID
                    Type:
                      - String
                  vswitchIds:
                    Required: false
                    Description:
                      zh: 一个或多个VSwitch ID
                      en: One or more vswitch IDS
                    Type:
                      - List<String>
                  vpcId:
                    Required: false
                    Description:
                      zh: VPC ID
                      en: VPC ID
                    Type:
                      - String
          nas:
            Required: false
            Description:
              zh: NAS配置, 配置后function可以访问指定NAS
              en: NAS configuration. After configuration, function can access the specified NAS
            Type:
              - Enum[简单配置/Simple configuration]:
                  - Auto
                  - auto
              - Struct[详细配置/Detailed configuration]:
                  userId:
                    Required: false
                    Description:
                      zh: userID
                      en: userID
                    Type:
                      - String
                  groupId:
                    Required: false
                    Description:
                      zh: groupID
                      en: groupID
                    Type:
                      - String
                  mountPoints:
                    Required: false
                    Description:
                      zh: 挂载点
                      en: Mount point
                    Type:
                      - List<Struct>:
                          serverAddr:
                            Required: false
                            Description:
                              zh: NAS 服务器地址
                              en: NAS server address
                            Type:
                              - String
                          nasDir:
                            Required: false
                            Description:
                              zh: NAS目录
                              en: NAS directory
                            Type:
                              - String
                          fcDir:
                            Required: false
                            Description:
                              zh: 函数计算目录
                              en: Function calculation directory
                            Type:
                              - String
  Function:
    Description:
      zh: 函数
      en: Function object
    Required: false
    Type:
      - Struct:
          name:
            Required: true
            Description:
              zh: function名称
              en: Function Name
            Type:
              - String
          description:
            Required: false
            Description:
              zh: function的简短描述
              en: Short description of function
            Type:
              - String
          codeUri:
            Required: false
            Default: ./
            Description:
              zh: 代码位置
              en: Code location
            Type:
              - String
          ossBucket:
            Required: false
            Default: ./
            Description:
              zh: 代码所在的 oss 桶
              en: ossBucket storing code
            Type:
              - String
          ossKey:
            Required: false
            Default: ./
            Description:
              zh: 代码在 oss 上的位置, 与 codeUri 互斥
              en: ossKey of code in Oss, conflict with codeUri
            Type:
              - String
          caPort:
            Required: false
            Description:
              zh: CustomContainer/Runtime指定端口
              en: CustomContainer/Runtime Specify port
            Type:
              - Number
          customContainerConfig:
            Required: false
            Description:
              zh: 自定义镜像配置
              en: Custom image configuration
            Type:
              - Struct:
                  image:
                    Required: true
                    Description:
                      zh: 仓库地址
                      en: Repo url
                    Type:
                      - String
                  command:
                    Required: false
                    Description:
                      zh: 指令
                      en:  Command
                    Type:
                      - String
                  args:
                    Required: false
                    Description:
                      zh: 参数
                      en: Args
                    Type:
                      - String
          handler:
            Required: false
            Default: index.handler
            Description:
              zh: function执行的入口，具体格式和语言相关
              en: The entry of function execution. The specific format is related to the language
            Type:
              - String
          memorySize:
            Required: false
            Default: 512
            Description:
              zh: function的内存规格
              en: Memory specification of function
            Type:
              - Number
          runtime:
            Required: false
            Default: Nodejs10
            Description:
              zh: 运行时
              en: Runtime
            Type:
              - String
          timeout:
            Required: false
            Default: 60
            Description:
              zh: function运行的超时时间
              en: Timeout for function to run
            Type:
              - Number
          instanceConcurrency:
            Required: false
            Description:
              zh: 单实例多并发
              en: Single instance multi concurrency
            Type:
              - Number
          environmentVariables:
            Required: false
            Description:
              zh: 环境变量
              en: environment variable
            Type:
              - Dictionary
          initializer:
            Required: false
            Description:
              zh: 初始化方法入口
              en: handler of initialization method
            Type:
              - String
          initializationTimeout:
            Required: false
            Description:
              zh: 初始化方法的超时时间
              en: timeout of initialization method
            Type:
              - Number
          triggers:
            Required: false
            Description:
              zh: 触发器
              en: Trigger
            Type:
              - List<Struct>:
                  name:
                    Required: true
                    Description:
                      zh: 触发器名称
                      en: Trigger name
                    Type:
                      - String
                  type:
                    Required: true
                    Description:
                      zh: 触发器类型
                      en: Trigger type
                    Type:
                      - Enum:
                          - oss
                          - log
                          - timer
                          - http
                          - mnsTopic
                          - cdnEvents
                  role:
                    Required: false
                    Description:
                      zh: 触发器角色
                      en: Trigger role
                    Type:
                      - String
                  sourceArn: 
                    Required: false
                    Description:
                      zh: 触发器事件源
                      en: event source of trigger
                    Type:
                      - String
                  config:
                    Required: true
                    Description:
                      zh: 触发器设置
                      en: config of trigger
                    Type:
                      - Struct[OSS触发器/OSS Trigger]:
                          bucket:
                            Required: true
                            Description:
                              zh: 为 OSS 中对应的 bucket 名称
                              en: the corresponding bucket name in OSS
                            Type:
                              - String
                          events:
                            Required: true
                            Description:
                              zh: 为 OSS 端触发函数执行的事件
                              en: Events that trigger functions on the OSS side
                            Type:
                              - List
                          filter:
                            Required: true
                            Description:
                              zh: 筛选条件
                              en: Screening criteria
                            Type:
                              - Struct:
                                  Key:
                                    Required: true
                                    Description:
                                      zh: 过滤器支持过滤的对象键
                                      en: object key
                                    Type:
                                      - Struct:
                                          Prefix:
                                            Required: false
                                            Description:
                                              zh: 前缀
                                              en: Prefix
                                            Type:
                                              - String
                                          Suffix:
                                            Required: false
                                            Description:
                                              zh: 后缀
                                              en: Suffix
                                            Type:
                                              - String
                      - Struct[LOG日志触发器/LOG Trigger]:
                          Logstore:
                            Required: true
                            Description:
                              zh: 数据源的 Logstore 名称。触发器会定时从该 Logstore 订阅数据到函数计算
                              en: Logstore name of the data source. The trigger will periodically subscribe data from the logstore to the function calculation
                            Type:
                              - String
                          JobConfig:
                            Required: false
                            Description:
                              zh: 包含两个可配置属性
                              en: Contains two configurable properties
                            Type:
                              - Struct:
                                  MaxRetryTime:
                                    Required: false
                                    Description:
                                      zh: 表示日志服务触发函数执行时，如果遇到错误，所允许的最大尝试次数
                                      en: Represents the maximum number of attempts allowed if an error is encountered during the execution of the log service trigger function
                                    Type:
                                      - String
                                  TriggerInterval:
                                    Required: false
                                    Description:
                                      zh: 表示日志服务触发函数执行的间隔
                                      en: Represents the interval between log service trigger functions
                                    Type:
                                      - String
                          LogConfig:
                            Required: false
                            Description:
                              zh: 包含三个可配置属性
                              en: Contains three configurable properties
                            Type:
                              - Struct:
                                  Project:
                                    Required: false
                                    Description:
                                      zh: 表示日志服务 Project 名称
                                      en: Represents the log service project name
                                    Type:
                                      - String
                                  LogStore:
                                    Required: false
                                    Description:
                                      zh: 表示触发函数执行时，产生的日志会记录到该 Logstore
                                      en: Indicates that when the trigger function is executed, the generated log will be recorded to the logstore
                                    Type:
                                      - String
                          FunctionParameter:
                            Required: false
                            Description:
                              zh: 日志服务将该配置内容作为函数 event, 当事件触发时，会连同它的内容一起发送给函数
                              en: The log service takes the configuration content as the function event, and when the event is triggered, it will be sent to the function along with its content
                            Deafult: {}
                            Type:
                              - Struct
                          Enable:
                            Required: false
                            Description:
                              zh: 表示是否启用该触发器
                              en: Indicates whether the trigger is enabled
                            Default: true
                            Type:
                              - Boolean
                          InvocationRole:
                            Required: false
                            Description:
                              zh: 使用一个 RAM 角色的 ARN 为函数指定执行角色，事件源会使用该角色触发函数执行，请确保该角色有调用函数的权限
                              en: Use the ARN of a ram role to specify the execution role for the function. The event source will use this role to trigger the function execution. Please ensure that the role has the permission to call the function
                            Example: acs:ram::1234567890:role/fc-invoke-test
                            Type:
                              - String
                          Qualifier:
                            Required: false
                            Description:
                              zh: service 版本
                              en: Service qualifier
                            Example: LATEST
                            Type:
                              - String
                      